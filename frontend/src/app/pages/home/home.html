<div class="container">
  <h1>I Nostri Prodotti</h1>

  <div class="product-grid">
    
    @for (product of products(); track product.id) {
      <mat-card class="product-card">
        <img mat-card-image [src]="product.thumbnail || 'https://placehold.co/600x400'" alt="{{ product.title }}">
        
        <mat-card-header>
          <mat-card-title>{{ product.title }}</mat-card-title>
          <mat-card-subtitle>
            @if(product.sale) {
              <span class="original-price">{{ product.originalPrice | currency:'EUR' }}</span>
              <span class="sale-price">{{ product.price | currency:'EUR' }}</span>
            } @else {
              <span>{{ product.price | currency:'EUR' }}</span>
            }
          </mat-card-subtitle>
        </mat-card-header>
        
        <mat-card-content>
          <p class="description">{{ product.description }}</p>
        </mat-card-content>
        
        <mat-card-actions>
          <button mat-raised-button color="primary" (click)="addToCart(product)">
            <mat-icon>add_shopping_cart</mat-icon> Aggiungi
          </button>
        </mat-card-actions>
      </mat-card>
    } @empty {
      <p>Nessun prodotto disponibile al momento.</p>
    }
  </div>
</div>